# 네트워크 구성요소 #

| 계층  |        | 설명                                                                                             | 단위(PDU) | 대표 프로토콜                 | 대표 장비        | 사용하는 주소 |
| --- | ------ | ---------------------------------------------------------------------------------------------- | ------- | ----------------------- | ------------ | ------- |
| L7  | 응용     | 실제 어플리케이션이 동작해서 서비스를 제공하는 계층                                                                   | DATA    | HTTP, FTP, SMTP 등       |              |         |
| L6  | 표현     | 어플리케이션이 만든 데이터를 표현하는 계층<br>압축, 인코딩, 암호화, 복호화 등                                                 | DATA    |                         |              |         |
| L5  | 세션     | 송신자와 수신자간의 연결상태(세션)을 관리하는 역할                                                                   | DATA    |                         |              |         |
| L4  | 전송     | 네트워크 전송과 관련하여 오류, 흐름제어 등의 기능을 통해<br>신뢰성 있는 정상적인 데이터 전송이 가능하도록함<br>포트번호를 통해 통신장치의 각 어플리케이션을 구분함 | 세그먼트    | __TCP, UDP__            | L4 스위치       | 포트번호    |
| L3  | 네트워크   | 데이터를 목적지까지 가장 빠르게 갈 수 있는 경로를 찾음 (라우팅)                                                          | 패킷      | **IP**, ICMP, IGMP, ARP | 라우터, L3 스위치  | IP 주소   |
| L2  | 데이터 링크 | 물리계층의 단순한 정기신호를 의미있는 데이터로 전환하여 인접한<br>네트워크 장비끼리 통신을 할 수 있게하는 계층                                | 프레임     | **이더넷**, ppp, 프레임릴레이    | NIC, 스위치     | MAC 주소  |
| L1  | 물리     | 전기적, 기계적, 물리적 규칙등을 정의해서 네트워크가 물리적으로 <br>송수신이 가능하게 하는 계층                                        | BIT     |                         | 허브, 케이블, 리피터 |         |

L1, L2 장비는 기능이 단순하기 때문에 소프트웨어적으로 동작하는 것이 아닌 하드웨어적으로 동작함
L3 이상부터는 기능이 점점 복잡해지기 때문에 소프트웨어적으로 기능이 들어가야함


---
### HUB ###
- 여러 대의 컴퓨터와 네트워크 장비를 별 모양으로 연결하여 같은 허브에 연결된 컴퓨터와 장비간의 통신을 가능하게 만드는 장비
- 허브로 연결된 네트워크에서는 주고받는 데이터가 모든 호스트에 전달됨
- 호스트의 개수가 많아질수록 충돌이 많아지고 속도가 느려짐
- 허브로 연결된 호스트는 하나의 Collision Domain에 속함


---
### Switch ###
Switch의 기능
- aging: 약 120초마다 해당 포트(?)에 연결되어 있는 장치가 있는지 확인, 없으면 MAC  주소 테이블에서 삭제함
Switch: L2 장비이기 때문에 소프트웨어적으로 크게 복잡하지는 않아서 하드웨어적으로 아래의 기능을 다 수행할 수 있음 


---
### Router, L3 Switch ###
- 서로 다른 네트워크를 연결하고 [[통신방식(LAN에서 통신하는 방식)|브로드캐스트]] 도메인을 분할
- 특정 인터페이스를 통하여 수신한 패킷의 목적지 IP주소를 확인하고, 연결된 인터페이스를 통하여 전송 -> Routing
- 라우터의 기본 기능은 경로 결정, 경로에 따른 Packet 전송
- 그 외에도 보안과 관련된 기능 및 [[용어|QoS]] 등의 기능을 제공
	  QoS(Quality of Service): 보내는 패킷 중에서 더 중요한 패킷이 있으면 해당 패킷을 우선으로 보냄
- 추가로 라우터와 L3 스위치는 기능적으로 거의 크게 차이가 없어서 사실상 구분할 필요 X


---
### L4 Switch ###
- 4계층까지 정보 획득 가능 (IP 정보, 포트 정보)
- 전체 메시지의 종단 대 종단 전달의 책임을 가짐
- 출발지 IP, 목적지 IP, 포트 정보를 이용하여 패킷을 분류하고 원하는 서버나 장비로 전송
- 출발지 IP와 목적지 포트를 이용해 [[로드밸런싱]] 구현이 가능


L2: 맥 주소
L3: 맥 주소, IP 주소
L4: 맥 주소, IP 주소, 포트 번호
L7: 맥 주소, IP 주소, 포트 번호, URL 등


---
### L7 Switch ###
- IP 주소 정보, 포트 정보, URL 정보, 쿠키, 페이로드 정보 등의 정보를 획득 가능
- L7 계층의 모든 정보를 바탕으로 로드밸런싱 구현이 가능
	- ex) HTTP 요청의 URL이 asp로 끝나면 메인 웹서버로 전송, JPG로 끝나며 이미지 서버로 전송
- 패킷의 데이터까지 볼 수 있어서 보안 향상의 중요 기능 구현이 가능



---
---
# 네트워크 주소체계 #

## 네트워크 주소체계 ##
- 물리적 주소(MAC Address): 장치 고유의 주소
	ex) 00-05-C5-F0-53-FE
- 논리적 주소
	ex) 192.168.100.25


---
### MAC(Media Access Control) Address ###
- 네트워크에 연결된 장비에 새겨지는 고유한 주소
- 이진수 48bit를 16진수로 표현
- 이진수 4개씩 묶어 16진수 한 자리로 표기: 12자리의 16진수로 표기
	ex) 80FA.5B04.F760
- 앞 24bit는 제조사를 나타내는 코드 (OUI,  Organizationally Unique Identifier)
- OUI 값을 통해서 장비의 메이커를 확인할 수 있음 
- 뒤 24bit는 장비 제조시에 할당되는 시리얼 번호

| OUI          | Host ID   |
| ------------ | --------- |
| 24 bit       | 24bit     |
| 16진수 16자리    | 16진수 16자리 |
| VMware, Inc. | 일련번호      |
| 00-50-56     | C0-00-08  |


---
# 기타 #
### 무선 LAN ###
- 한정된 공간 내에서 케이블을 연결하지 않고 무선 주파수나 적외선 기술을 이용하여 근거리 통신이 가능한 네트워크
	- 장점: 케이블 설치없이 손쉽게 네트워크 구축 가능하고 단말기의 이동이 자유로움
	- 단점: 비용이 높고, 전송속도가 유선보다 느림

### Wi-Fi ###
- IEEE의 무선 랜 표준: 802.11, 802.11a, 802.11n 등이 있고 최근에는 최소 802.11n 이상을 사용하고 있음 그리고 802.11n이 Wi-Fi 4라고 불림
- 802.11n(Wi-Fi 4)는 2.4GHz와 5GHz 주파수를 사용하며 최대 300mbps 전송속도 제공
- 802.11ac는 5GHz 주파수를 사용하며 이론적으로 최대 6.3Gbps 속도가 나오는데 실제로는 1Gbps 정도가 나옴
- 802.11ax(Wi-Fi 6): 2.4GHz와 5GHz 주파수를 사용하며, 5GHz 주파수의 대역신호 약화를 개선함.
- 802.11be(Wi-Fi 7): 2.4/5/6 GHz와 5GHz 주파수를 사용하며, 대역폭확장과 고효율전송으로 최대 46Gbps 지원

### 데이터 암호화 ###
- 무선 전파를 통해 누구나 접속할 수 있는 문제점을 해결하기 위해 암호화 기술을 사용
- 와이파이 데이터 암호화 보안 표준 예시
	- WEP: 초창기 암호화 방식으로 보안에 취약함
	- WPA/WPA2: 향상된 보안성과 인증 기능 제공
	- WPA3: 최신 표준으로 보안을 한층 강화함



#질문
- Q1. WireShark의 패킷 디테일의 각 줄은 어떠한 의미를 가지는가?
- A1. 패킷 디테일의 각 줄은 패킷의 각 해더를 의미하는 것이고 위에서 아래로 내려갈 수록 더 높은 계층의 헤더임 
  마지막 줄은 헤더만 있을 수도 있고, 헤더와 데이터가 같이 들어있을 수도 있음 (확인이 필요한 정보)



