# DDoS #
DDoS(Distributed Denial of Service): 여러 개의 장치를 이용하여 컴퓨터나 네트워크 장비를 대상으로 처리할 수 없을 정도의 과도한 트래픽을 발생시켜 정상적인 데이터 전송에 장애를 일으키는 서비스 거부 공격의 일종

악의를 가진 사용자가 여러 클라이언트를 좀비 PC로 만들어 좀비 PC들을 이용해 고의로 접속량을 폭주시켜 서버를 마비시키는 것


## DDoS 유형 ##

| 구분       | 대용량 트래픽 전송                    | PPS 증가   | 웹 서비스 지연 |
| -------- | ----------------------------- | -------- | -------- |
| 사용 프로토콜  | UDP/ICMP                      | TCP      | HTTP     |
| 공격 PC 위치 | 국내                            | 국내/국외    | 국내/국외    |
| IP 변조 여부 | 변조/실제 IP                      | 변조/실제 IP | 실제 IP    |
| 공격 유형    | 1000~1500byte/1Gbyte, 수십만 PPS |          |          |
|          |                               |          |          |
|          |                               |          |          |


- Combined DoS Attack
	- 혼합된 Dos 공격, SYN 공격, 대역폭 공격을 혼합해서 하는 것, 막기 더 어려움(?)
- Sloworis DoS Attack
	- 공격을 좀 더 느리게 해서 자원을 고갈시키는 것을 목적으로함
	- 공격을 천천히 해 서버를 대기시키게 하면서 서버의 리소스를 갉아먹음
- SlowRead DoS Attack
	- 자원을 고갈시키는 공격
	- 패킷 사이즈를 조작해서 서버가 패킷을 수신하는 속도를 지연시켜 Connection 자원을 고갈시킴
- RUDY Attack
	- RUDY(R-U-Dead-Yet) 공격은 긴 데이터를 작게 분할하여 HTTP로 전송하는 방식으로 서비스 거부를 유발함
	- 공격자는 서버에 많은 데이터를 보낼꺼라고 한 후, 1Byte 단위로 패킷을 보내 세션을 유지시키고 시스템의 자원을 고갈시켜 서비스 불능 상태로 만듦


## DDoS와 IPS의 차이점(p.600~p.601) ##
트래픽 제어 방식에서 차이가 있음
인증된 IP는 엔진을 타지 않고 통과함
3-way hand shake를 정상적으로 타지 않은 IP는 엔진을 타서 검증하는 절차를 거침

CPS 임계치는 SYN 패킷수를 제한하는 것임 CPS 임계치가 10이면 한 번에 10개의 SYN만을 받아들임



### SSS(TCP) CPS 임계치 설정 ###



RateLimit: 일정 대역폭 이상은 잘라서 서비스를 안정적으로 지속할 수 있도록 보장하는 것






DDoS GUI
10.200.10.17:4000
sniper/Sniper12#

PuTTY
10.100.6.102:22
wins21/보안00!#@$



DDoS GUI 에서 scapy를 통해 패킷을 생성하고 보냈을 때 다 탐지되는 이유는 디도스 장비는 따로 IP에 따라 구분해서 탐지하는 건 아니고 탐지 정책에 따라서 탐지함, 그 중에서 TCP이고 SYN 패킷은 탐지하는 정책이 있으면 출발지, 목적지 IP 주소와는 상관없이 다 탐지할 수 있음
왜냐하면 예시를 들자면 PC - IPS - 방화벽 - DDoS 장비 - 인터넷 이렇게 되어 있어서 PC가 인터넷과 소통을 하면 어떻게든 DDoS 장비에 탐지가 됨

그리고 재밌는 사실로 DDoS 장비가 최상단에 위치하는 이유는 방대한 대역폭 공격은 디도스 장비가 든~든 하게 탱킹을 해서 막아줘야지 그 아래의 방화벽 장비와 IPS 장비가 버틸 수 있음. 디도스는 대역폭 공격에 특화되어 있어서 방화벽과 IPS 장비는 못 버티기 때문





























