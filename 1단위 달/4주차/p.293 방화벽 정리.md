## *※여기에 적힌 내용은 Wins의 NGFW 방화벽의 내용이므로 다른 방화벽과는 통용되지 않을 수 있음을 유의※* ##

192.168와 172.16~172.31은 가장 많이 쓰이는 사설 IP 중 하나라서 그냥 외운 다음에 보이면 아! 사설 IP구나! 하면 됨

방화벽의 인터페이스는 네트워크의 데이터가 드나드는 문(통로)를 뜻하는 것으로 컴퓨터나 보안 장비가 외부 세계와 소통하기 위해 연결되는 접점을 뜻함, 연결단자(?) 같은 느낌

Eth0은  방화벽 외부의 인터페이스니까 Untrust이고, Eth1은 방화벽 내부의 인터페이스니까 Trust임

방화벽 안쪽 네트워크는 Trust 존이고, 방화벽 외부는 Untrust 존임 그리고 서버쪽 네트워크는 DMZ(맞는지 몰루)

방화벽은 3계층의 라우터 기능도 포함하고 있어서 들어온 패킷을 Drop할 수도 있지만 다른 네트워크나 라우터로 라우팅 할 수도 있음
이때 들어온 경로(인터페이스), 목적지 등을 보고 어디로 보낼지 미리 설정하여 고정된 경로로 전송하면 **정적 라우팅(static routing)** 이고 네트워크 상황과 라우터 간의 정보를 고려해서 경로를 동적으로 결정하면 **동적 라우팅(dynamic routing)** 임


p.330의 방화벽 정책 실습에서 
방화벽 정책 추가 및 적용 한 다음에 10.200.x.254(우리조는 10.200.4.254)로 핑을 보내는 이유는 보안정책 중 용도가 "게이트웨이 ICMP 허용"에서 출발지(내컴퓨터)에서 목적지(라우터)로 핑을 보내는 것(ICMP)를 허용했기 때문에 그것이 잘 이루어 지는지 확인하는 용도임


방화벽의 CLI 에서 아래 명령어를 입력하면
sv a 1    -> 상세정보 표시(활성화 비활성화)
capture 10.100.4.12 and 8.8.8.8     -> 캡쳐하는 대상을 10.100.4.12와 8.8.8.8 이렇게 2개를 한다는 뜻
capture icmp   -> icmp(핑 보내기) 를 캡쳐하는 것

윈도우의 cmd에서 10.100.4.12나 8.8.8.8 로 핑 보냈을 때 일어나는 이벤트(?) 같은 걸 볼 수 있음


블랙리스트와 화이트리스트는 IP주소를 등록해서 차단 or 허용 할 수 있는데 보안정책보다 우선해서 적용됨



NAT(Network Address Transform): 사설 IP와 공인 IP를 서로 변환하는 기술
사설 IP는 사설망 내부에서만 사용할 수 있고, 외부에서는 사용할 수 없음 따라서 사설 IP를 공인 IP로 바꾸는 과정이 필요함, 여기서 NAT라는 기술을 사용
반대로 공인 IP -> 사설 IP로의 변환도 가능
주로 라우터의 기능이지만 방화벽도 라우터 기능을 포함하니까 NAT도 할 수 있음

SNAT, DNAT 가 있는데 출발지 IP가 바뀌면 SNAT, 목적지 IP가 바뀌면 DNAT임
SNAT는 일반적으로 사설 IP를 공인 IP로 바꿔 외부로 접근할 때 사용
반대로 DNAT는 외부의 사용자가 공인 IP를 사설 IP로 바꿔 접근할 때 사용함



p.352~p.367 까지의 콘텐츠 보안은 다시 한 번 해보기




















































