와이어샤크는 **오픈 소스 패킷 분석 프로그램**으로 "pcap"을 이용하여 패킷을 잡아내는 것이 주요 기능임

#### ※NIC의 동작 모드 중 Promiscuous Mode라는 것이 있는데 이 모드를 사용하게 되면 NIC에서 나를 목적지로 온 프레임이 아니더라도 그냥 다 수신이 가능함 ####
WireShark의 설정에서 '무작위 모드로 패킷 캡처'를 체크하면 NIC의 Promiscuous Mode를 On으로 설정하는 것임
![[Pasted image 20251216162256 1.png]]



# 와이어샤크 화면 #
![[Pasted image 20260130154729.png]]
위는 **패킷 리스트**, 좌측 하단은 **패킷 디테일**, **패킷 바이트**이다.

- 패킷 리스트: 현재 수집된 모든 패킷을 보여주는 창
- 패킷 디테일: 선택한 패킷의 상세정보를 표시하는 창
- 패킷 바이트: 가장 원시적인(낮은, Raw) 형태의 패킷을 표시하는 창

패킷 리스트의 옵션들
- No.: 패킷을 수집한 순서
- Time.: 패킷이 수집된 시간
- Source.: 패킷을 보낸 주소
- Destination.:  패킷 도착 주소
- Protocol.: 프로토콜 정보
- Length.: 패킷의 길이
- Info.: 패킷 정보


http.response.code == 200



## 패킷 리스트 ##

각 패킷마다 색상을 가짐

필터링을 하려면 패킷 리스트의 필터창에서 검색하거나 하면 할 수 있음, 아래는 예시
- ip.addr == 10.100.4.3   -   ip 주소가 10.100.4.3 인 것들만 표시
- ip.src == 10.100.4.3   -   출발지 ip주소가 10.100.4.3인 것들만 표시
- ip.dst == 10.100.4.3   -   목적지 ip주소가 10.100.4.3인 것들만 표시
- tcp   -   Protocol이 TCP인 것들만 표시
- tcp.port == 443   -   TCP 프로토콜 중 포트번호가 443인 것들만 표시
- tcp.dstport == 443   -   TCP 프로토콜 중 목적지 포트번호가 443인 것들만 표시
- tcp.srcport == 443   -   TCP 프로토콜 중 출발지 포트번호가 443인 것들만 표시
- udp   -   Protocol이 UDP인 것들만 표시
- udp.port == 443   -   UDP 프로토콜 중 포트번호가 443인 것들만 표시
- udp.dstport == 443   -   UDP 프로토콜 중 목적지 포트번호가 443인 것들만 표시
- udp.srcport == 443   -   UDP 프로토콜 중 출발지 포트번호가 443인 것들만 표시

'&&' 와 '||'을 사용해서 And, Or 도 사용할 수 있음


## 패킷 디테일 ##
특정 패킷을 선택하면 해당 패킷에 대한 내용이 패킷 디테일에 표시됨
패킷 디테일에서 가장 아래 줄은 선택된 패킷이 어떤 프로토콜의 패킷인지 나타내고, 위로 올라갈 수록 상위 계층을 나타냄

![[Pasted image 20260130125018.png]]
예를 들어서 이 패킷 디테일은 TCP 패킷을 선택했을 때의 패킷 디테일인데 제일 아랫줄에서 현재 패킷이 TCP라는 걸 나타내고 있고
그 위줄에서 IP헤더가 감싸고 있다는 것, 그걸을 이더넷 헤더가 감싸고 있고, 그 위에서 이제 Frame을 전송하는 걸 나타냄

![[Pasted image 20260130125218.png]]
이건 UDP 패킷인데 제일 아래쪽은 Data, 그 다음이 UDP 패킷으로 제일 아래줄이 꼭 헤더만을 나타내는 건 아니고 헤더와 데이터를 같이 나타낼 수도 있음, 그 다음에 IP헤더, 이더넷, 프레임 전송이 이루어짐


## 패킷 따라가기##
따라가기 기능은 통신에서 하나의 연결이 패킷이 나눠져있어서 한눈에 보기가 힘든데 이걸 다 이어서 한눈에 보기 쉽게 정리한 게 따라가기 기능임

예를 들어서서 HTTP 패킷을 따라가기 하면 클라이언트가 서버에 GET/POST 요청을 보냈다면 해당 요청에 대한 HTML 코드를 응답하는 것을 확인할 수 있음

따라가기 창에서
붉은색 글씨: 클라이언트 -> 서버
파란색 글씨: 서버 -> 클라이언트





















