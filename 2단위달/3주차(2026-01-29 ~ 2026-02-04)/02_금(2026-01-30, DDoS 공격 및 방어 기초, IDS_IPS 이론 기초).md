# DDoS 공격 및 방어 기초 #

# 1. DDoS 쉽게 이해하기 #

DDoS는 대량의 트래픽을 전송하거나 비정상적인 통신을 하는 방법으로 정상적인 서비스 운영을 방해하는 분산 서비스 거부(Distributed Denial of Service) 공격을 뜻함



---
# 2. 네트워크 기초 #

## 네트워크 환경 ##
- ### Client - Server ###
	- Client
		- 사용자 측 인터페이스
		- 서버에 필요한 데이터 및 서비스를 요청
		- 서버가 규정한 적절한 방식으로 요청해야함
	- Server
		- 데이터 공유 및 서비스 제공 -> 클라이언트 요청에 따른 응답
			- 유효한 요청에는 요청 데이터에 대한 서비스 응답
			- 유효하지 않은 요청에는 에러 발생 및 무응답
		- 여러 요청에 대한 동시 처리
- ### 데이터 전달 방법 ###
	- 라우팅
		- 네트워크 내 최적의 경로 선택
		- 출발/목적지 IP 주소, 통신 상황 등의 변수 고려
		- Switch, Router 등 장치 이용
	- 메시지 구조
		- 헤더는 **메타데이터**로 출발/목적지 정보, 프로토콜, 연결 상태 등의 정보를 가짐
		- 페이로드는 헤더가 감싸고 있는 **데이터**임
	- 단편화
		- 네트워크 상 데이터 전달 과정에서 더 작은 조각으로 분할 및 재조합
		- 지나가는 경로의 [[용어|MTU]]



---
# 3. DDoS 공격 기법 #

## BPS/PPS/CPS/RPS ##
- BPS(Bytes Per Second): L1 계층의 단위 시간 당 지나가는 비트 또는 바이트 수
- PPS(Packets Per Second): L3 계층의 단위 시간 당 지나가는 패킷 수
- CPS(Connections Per Second): L4 계층
	- (클라이언트 관점) 단위 시간 당 세션 연결 시도하는 횟수 <-> SYN 보내는 수와 같음
	- (서버 관점) 단위 시간 당 세션이 연결된 횟수



## DDoS 공격 유형 ##
- ### 대역폭 공격 ###
	- 대량의 네트워크 트래픽을 유발하여 네트워크 용량을 점유하는 공격
	- 상대방 인증 절차가 없는 UDP나 ICMP 프로토콜을 주로 사용 -> 출발지 IP 주소를 스푸핑 후 대량의 쓰레기 데이터 전송
	- 측정 단위: BPS
		- 예: 단순 대역폭 공격 (UDP/ICMP Flooding 등), 단편화 공격 (Fragment UDP Flooding, Ping of Death 등)...
		* \*스푸핑(Spoofing): 출발지 주소를 변조
	
- ### 서비스 공격 ###
	- #### UDP ####
		- 과도한 UDP 요청을 통해 서버의 성능을 저하시키는 공격
		- 상대방 인증 절차 없는 UDP 프로토콜 -> 출발지 IP 주소 스푸핑 가능
		- 측정 단위: PPS
			- 예: 다량의 유효한 UDP 요청 (DNS Query Flooding 등)...
	- #### TCP ####
		- 과도한 UDP 요청을 통해 서버의 성능을 저하시키는 공격
		- 상대방 인증 절차 없는 UDP 프로토콜 -> 출발지 IP 주소 스푸핑 가능
		- 측정 단위: PPS
			- 예: 다량의 유효한 UDP 요청 (DNS Query Flooding 등)...
	
- ### 웹 서비스 공격 ###
	- 과도한 HTTP 요청이나 HTTP 프로토콜 취약점을 활용하는 방식으로 웹 서버의 정상적인 운영을 방해하는 공격
	- 세션 성립 후 데이터 교환하는 HTTP 프로토콜
		- 1. 다수의 공격 수행자 확보 필요
		- 2. 과도한 요청 또는 세션 성립 후 비정상적인 HTTP 통신
	- 측정 단위: RPS 또는 CPS
		- 예: HTTP(Random) GET Flooding, Cache-Control 공격, Slow류 공격 등...



## DDoS 공격 효과 높이기 ##
- ### Botnet ###
	- (쪽수 앞에 장사 없다)
	
- ### DRDoS ###
	- (남의 이름으로 장난치기)
	
- ### Multi-vector ###
	- (이것저것 다 해보기)
	- 



---
# 4. DDoS 공격 예시 

## 대역폭 공격 ##
- ### 단순/단편화 대역폭 공격 ###
	- #### 단순 대역폭 공격 ####
		- 대역폭 공격의 기본 형태
		- 공격 대상을 직접 공격
		- 출발지 IP 주소 변조 후, 대량의 쓰레기 데이터 전송 
	- #### 단편화 대역폭 공격 ####
		- 네트워크 상 데이터 전달 과정에서 단편화
		- 지나가는 경로의 MTU 크기에 따라 결정
		- UDP/ICMP 프로토콜 기반 공격 시 적용
		
- ### DRDoS ###
	- #### 공개 서비스/정보 응답 악용 ####
		- 문자열
	- #### 시스템 정보 응답 악용 ####
		- 문자열
	- #### 에러 응답 악용 ####
		- 문자열
	- #### 프로토콜 취약점 악용 ####
		- 문자열




---
---
# IDS_IPS 이론 기초 #

# 1. 보안장비 종류 #

## 네트워크 환경 ##
- ### Client - Server ###
	- Client



DDoS - L3
F/W - L3
IDS/IPS - L7
WAF - L7


















































































