# 파일 디스크립터란? #

## 파일 디스크립터(File Descriptor) ##

프로세스가 파일을 열어서 작업하는 상황을 상상해볼게용. 문서 편집기 프로세스가 파일을 생성하거나 수정하기 위해 운영체제에 그 파일을 관리하기 위한 권한을 요청하면 운영체제는 **파일 디스크립터(File Descriptor, fd)** 라는 번호를 할당함. 프로세스는 운영체제가 할당한 **fd**를 이용해서 저장장치에 위치한 파일에 접근할 수 있음

프로그램이 실행되면 파일 디스크립터를 관리하는 **Descriptor Table**이 생성되는데 이 테이블은 **Open File Description**을 가리킴. 최종적으로는 **inode table**을 가리키게 됨

![[Pasted image 20260226171518.png]]

프로세스가 열린 파일에 접근할 때 **File Descriptor Table**의 인덱스 번호를 사용하며 이를 **fd**라 부름

프로세스는 기본적으로 0, 1, 2번 파일 디스크립터가 할당되어 있으며 각각 **standard input (stdin)**, **standard output (stdout)**, **standard error (stderr)** 를 의미함. **stdin**는 표준 입력, **stdout**은 표준 출력, **stderr**는 오류 출력의 목적을 가짐. 이 **fd** 들은 `open()`으로 직접 파일을 열지 않더라도 실행 초기에 운영체제가 할당함. 따라서 새로운 파일을 열 경우 기본적으로 **fd**가 3부터 할당됨

이전 강의에서 리눅스는 모든 것을 파일로 관리한다는 것을 배움. **fd**들도 파일의 형식으로 관리되며 `/proc/[pid]/fd`에 있음



---
## Pipe(|) ##

**파이프(Pipe)** 는 이전 명령의 출력을 다음 명령어의 입력으로 제공하는 **기능**임

해당 기능은 명령어가 아니며 셸 상에서 `|` 기호를 사용함

아래와 같은 pipe.c를 만들고 pipe라는 오브젝트 파일을 생성함
![[Pasted image 20260226173759.png]]


`./pipe` 로 실행한 다음 출력된 결과값을 다시 `|` 로 연결해서 하면 출력값이 입력으로 들어가서 아래와 같은 결과가 나옴
![[Pasted image 20260226174341.png]]



---
## Redirection(>) ##

**리다이렉션(Redirection)** 은 입력과 출력의 방향을 재지정함

파이프와 동일하게 





---
## 키워드 ##
- ### 파일(File) ###
	- 의미가 있는 정보를 모아둔 논리적인 단위
- ### 디렉토리 ###
	- 파일을 분류하기 위해 사용하는 **네임스페이스(Namespace)** 로 다른 디렉토리 혹은 파일을 내부에 포함할 수 있으며, 이때 포함되는 디렉토리를 **하위 디렉토리(Child Directory / Sub Directory)**, 그 반대를 **상위 디렉토리(Parent Directory)** 라고함
- ### 주요 명령어 ###
	- `pwd`: 명령어를 사용하면 현재 자신의 디렉토리 위치를 알 수 있음
	- `cd`: 명령어를 사용하면 자신이 있는 디렉토리의 위치를 변경할 수 있음. 이때 인자로는 절대 경로와 상대 경로를 모두 받을 수 있음
	- `ls`: 명령어를 사용하면 지정한 경로의 디렉토리나 파일을 확인할 수 있음
	- `mkdir`: 명령어를 사용하면 새로운 디렉토리를 생성할 수 있음
	- `rmdir`: 명령어를 사용하면 생성한 디렉토리를 삭제할 수 있음
	- `touch`: 명령어를 사용하면 새로운 파일을 생성할 수 있음
	- `cat`: 명령어를 사용하면 새로운 파일을 생성하고 작성하는 것이 가능하며, 생성된 파일의 내용을 읽을 수도 있음
	- `head/tail`: 명령어를 사용하면 각각 파일의 앞과 뒤에서 내용을 읽어올 수 있음
	- `mv`: 명령어를 사용하면 파일의 위치를 이동시킬 수 있음
	- `cp`: 명령어를 사용하면 파일을 복사할 수 있음
	- `rm`: 명령어를 사용하면 파일을 삭제할 수 있음
	- `ln`: 명령어를 사용하면 하드 링크와 심볼릭 링크 파일을 생성할 수 있음
	- `find`: 명령어를 사용하면 원하는 파일의 경로를 쉽게 탐색할 수 있음



